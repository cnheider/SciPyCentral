{% extends "base.html" %}

{% block title %}SciPy Central{% endblock %}

{% block content %}

<div id="front-page-top">

  <div id="spc-site-statement">
    A collection of <span style="font-family:'Inconsolata';">code snippets</span>,
    modules and links for <i>solving scientific problems</i>
    with <a href="http://scipy.org">SciPy</a> and related Python tools.
  </div>

  {% include "search/includes/main-search-box.html" %}

  {% include "pages/make-submission-buttons.html" %}

  {% load core_tags %}
  <div class="spc-portal-container">
	<div class="spc-portal-row-container">
	  <div class="spc-portal-row">
		<div class="spc-portal-left">
		  <h3>Recently changed</h3>
			<ul>
			{% for item in "submission.revision"|latest:5 %}
			  <li><a href="{{ item.get_absolute_url }}">{{ item.title }}</a>{% if item.short_human_revision_string %} ({{item.short_human_revision_string|safe}}){% endif %}</li>
			{% endfor %}
			</ul>
			<a href="{% url spc-show-all %}">Show all</a>
		</div>
		<div class="spc-portal-right">
		  <h3>Most viewed</h3>
			<ul>
		  	{% for item in "submission"|most_viewed:5 %}
			  <li><a href="{{ item.get_absolute_url }}">{{ item.last_revision.title }}</a></li>
			{% endfor %}
			</ul>
			<p><a href=" ">Show all</a>
		</div>
	  </div>
	</div>
	<div style="clear: both;"></div>
	<div class="spc-portal-row-container">
	  <div class="spc-portal-row">
		<div class="spc-portal-left">
		  <h3>Tag cloud</h3>
		    {% for item in "submission.TagCreation"|cloud:25 %}
			  <span><a href="{% url spc-show-items-by-tag item%}" class="spc-tag-cloud" style="font-size: {{item.score}}%">{{item}}</a></span>
			{% endfor %}
			<p><a href=" ">Show all</a>
		    <!--{{tag_cloud_html}}-->
		</div>
		<div class="spc-portal-right">
		  <h3>Top contributors</h3>
		  <ul>
			{% for item in "authors"|top_authors:5 %}
			  <li><a href="{{ item.get_profile.get_absolute_url }}">{{ item.username }}</a> [{{item.score}}]</li>
			{% endfor %}
			</ul>
			<p><a href=" ">Show all</a>
		</div>
	  </div>
	</div>
  </div>
{% endblock %}
